% Author: Dr. Matthias Jung, DL9MJ
% Year: 2022




\begin{circuitikz}
    %\tikzstyle{help lines}=[blue!50];
    %\draw[style=help lines] (0,-2) grid (18,8);
    \draw(2,0) 
        to [short] ++ (1,0)
        to [twoportsplit, >,     l ={\footnotesize Kanalcodierer}] ++(1,0)
        to [twoportsplit, >,     l_={\footnotesize Mapper}] ++(3,0)
        to [twoportsplit,        l ={\footnotesize Quellencodierer~~~~~~~~~~~}] ++(1,0) coordinate(c1);

    \draw(c1) ++(0, 0.25) -| ++(0.5, 0.5)
        to [short] ++(0.5,0)
        node[inputarrow] {}; 
    \draw(c1) ++(0,-0.25) -| ++(0.5,-0.5)
        to [short] ++(0.5,0)
        node[inputarrow] {};

    %% Decoration:
    \draw (7.35,+0.25) node(){\tiny\texttt{0101}};
    \draw (7.65,-0.25) node(){\texttt{01}};
    %
    \draw (3.35,+0.25) node(){\texttt{01}};
    \draw (3.65,-0.25) node(){\tiny\texttt{01+01}};
    %
    \draw[thick] (5+0.3+0.4,0.4-0.4) -- ++(0,-0.4);
    \draw[thick] (5+0.1+0.4,0.2-0.4) -- ++(0.4,0);
    \filldraw    (5+0.2+0.4,0.3-0.4) circle (1pt);
    \filldraw    (5+0.4+0.4,0.3-0.4) circle (1pt);
    \filldraw    (5+0.2+0.4,0.1-0.4) circle (1pt);
    \filldraw    (5+0.4+0.4,0.1-0.4) circle (1pt);
    \draw        (5.35,+0.25) node(){\texttt{01}};

    % Dashed Block:
    \draw[thick, gray, dashed] (2.25,-1.25) rectangle ++(6.0,2.5);
    \draw[gray] (5.25,1.5) node(){FPGA oder Software};
\end{circuitikz}

