% Author: Michael Groni, DB7YI, Matthias Jung, DL9MJ
% Year: 2022, 2024

\begin{tikzpicture}

    \tikzstyle{interface}=[draw, minimum width=1.4cm, minimum height=0.2cm, align=center, inner sep=1]
    \tikzstyle{bigBox}=[minimum width=1.2cm, minimum height=1.2cm, fill=lightgray, draw=lightgray]
    
    \tikzstyle{label}=[]
    \def\labelSpacingSouth{0.12cm}
      
    \def\deltaY{1.25}
    
    % Zeile 6 (von unten nach oben nummeriert)	
    \draw(0,0) node[bigBox](left6){}; 
    \draw(0,0) ++(4,0) node [bigBox] (right6) {};
    \draw(right6.center) node[trxshape, scale=0.66](){};
    \draw[thick](left6.east) node[waves, anchor=left, scale=0.66](){}; 
    \draw[thick](right6.west) node[waves, anchor=left, rotate=180, scale=0.66](){};

    % Zeile 5 (von unten nach oben nummeriert)	
    \draw(left6.south) node [bigBox, below=0.25cm](left5){};
    \draw(right6.south) node [bigBox, below=0.25cm](right5) {};
    \path (left5) -- (right5) node[midway, cloud, draw, minimum width=37, minimum height=18, cloud puffs = 15, cloud puff arc = 105] (net) {};	% Netzwerk
    \node at (net) {\tiny Netzwerk}; % Netzwerk
    \draw (left5.east) -- (net.west); 
    \draw (net.east) -- (right5.west);
    
    % Zeile 4 (von unten nach oben nummeriert)	
    \draw(left5.south) node [bigBox, below=0.25cm] (left4) {}; 
    \draw(right5.south) node [bigBox, below=0.25cm] (right4) {};	% Transceiver
    \path (left4.330) -- (right4.210) node (center4b) [interface, midway] {\tiny CAT-\\[-0.6em] \tiny Interface};	% Interface
    \draw (left4.330) -- (center4b.west); % Linie Computer - Interface
    \draw (center4b.east) -- (right4.210); % Linie Interface - Transceiver
    \draw [] (left4.30) to (right4.150); % Linie Audio
    \node [label, above=\labelSpacingSouth of left4.30, anchor=west] {\tiny Audio};		% Beschriftung Audio am Computer
    \node [label, above=\labelSpacingSouth of right4.150, anchor=east] {\tiny Audio};	% Beschriftung Audio am Transceiver
    \node [label, above=\labelSpacingSouth of left4.330, anchor=west] {\tiny USB};		% Beschriftung USB am Computer
    \node [label, above=\labelSpacingSouth of right4.210, anchor=east] {\tiny CAT};	% Beschriftung CAT am Transceiver
    
    %% Zeile 3
    \draw(left4.south) node [bigBox,below=0.25cm] (left3) {}; % Computer
    \draw (right4.south) node [bigBox, below=0.25cm] (right3) {}; % Transceiver
    \path (left3) -- (right3) node (center3) [interface, midway] {\tiny Digimode-\\[-0.6em] \tiny Interface};
    \node [label, above=\labelSpacingSouth of left3.east, anchor=west] {\tiny USB};		% Beschriftung USB am Computer
    \draw [] (left3.east) to (center3.west); % Linie Computer -Interface
    %
    \node (audioHelper3) [left=0.5cm of right3.150] {};
    \draw [] (center3.7) -| (audioHelper3.center) -- (right3.150);						% Linie Audio
    \node [label, above=\labelSpacingSouth of right3.150, anchor=east] {\tiny Audio};	% Beschriftung Audio am Transceiver
    \node (pttHelper3) [left=0.5cm of right3.210] {};
    \draw [] (center3.353) -| (pttHelper3.center) -- (right3.210); % Linie PTT
    \node [label, above=\labelSpacingSouth of right3.210, anchor=east] {\tiny PTT};		% Beschriftung PTT am Transceiver	
    
    %% Zeile 2
    \draw(left3.south) node [bigBox, below=0.25cm] (left2) {};	% Computer
    \draw (right3.south) node [bigBox, below=0.25cm] (right2) {}; % Transveiver
    \path (left2) -- (right2) node (center2) [interface, midway] {\tiny Digimode-\\[-0.6em] \tiny Interface};
    \node [label, above=\labelSpacingSouth of left2.east, anchor=west] {\tiny USB};		% Beschriftung USB am Computer
    \draw [] (left2.east) to (center2.west);
    \node (audioHelper2) [left=0.5cm of right2.150] {};
    \draw [] (center2.7) -| (audioHelper2.center) -- (right2.150);						% Linie Audio
    \node [label, above=\labelSpacingSouth of right2.150, anchor=east] {\tiny Audio};	% Beschriftung Audio am Transceiver
    \draw [] (center2.east) to (right2.west); % Linie CAT
    \node [label, above=\labelSpacingSouth of right2.west, anchor=east] {\tiny CAT};	% Beschriftung CAT am Transceiver
    \node (pttHelper2) [left=0.5cm of right2.210] {};
    \node [label, above=\labelSpacingSouth of right2.210, anchor=east] {\tiny PTT};		% Beschriftung PTT am Transceiver
    \draw [] (center2.353) -| (pttHelper2.center) -- (right2.210); % Linie PTT
        
    % Zeile 1
    \draw (left2.south) node [bigBox, below=0.25cm] (left1) {}; % Computer
    \draw (right2.south) node [bigBox, below=0.25cm] (right1){}; % Transceiver
    \node [label, above=\labelSpacingSouth of left1.east, anchor=west] {\tiny USB};		% Beschriftung USB am Computer	
    \node [label, above=\labelSpacingSouth of right1.west, anchor=east] {\tiny USB};	% Beschriftung USB am Transceiver
    \draw [] (left1.east) to (right1.west);	% Linie Computer - Transceiver
    
    %% Draw computers:
    \computer {left5.center}{comp5}
    \computer {left4.center}{comp4}
    \computer {left3.center}{comp3}
    \computer {left2.center}{comp2}
    \computer {left1.center}{comp1}

    %% Draw smartphone
    \smartphone{(left6.center)}{0.6cm}{sp}
    
    %% Draw TRXs
    \draw(right5.center) node[trxshape, scale=0.66](){};
    \draw(right4.center) node[trxshape, scale=0.66](){};
    \draw(right3.center) node[trxshape, scale=0.66](){};
    \draw(right2.center) node[trxshape, scale=0.66](){};
    \draw(right1.center) node[trxshape, scale=0.66](){};
\end{tikzpicture}