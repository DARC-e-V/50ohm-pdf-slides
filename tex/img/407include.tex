% Frage: TM330
%
% Author: Dr. Henning Paul, DO9PHB
% Year: 2021
%
\documentclass[convert=false, varwidth]{standalone}
\input{../common/settings.tex}
\usepackage{tikz,pgfplots}
\usetikzlibrary{arrows}

\usepackage{amsmath}
\usepackage{unicode-math}
\setmathfont{Fira Math}
\setmathfont[range=up]{Roboto}
\setmathfont[range=it]{Roboto-Italic}
\setmathfont[range=\int]{Fira Math}
\usepackage[euler]{textgreek}

\begin{document}

\pgfplotsset{
  every axis plot/.append style={line width=0.8pt},
}

\begin{tikzpicture}
    \begin{axis}[%
        /pgf/number format/1000 sep={ },
        /pgf/number format/use comma,        
        axis lines=middle,
        axis line style={-triangle 60},
        width=3in,
        height=1.2in,
		xlabel=$\mathrm{f}$,
		ylabel=$|\mathrm{H}(\mathrm{f})|$,
		every axis x label/.style={at={(ticklabel* cs:1.02)},anchor=west,},
		every axis y label/.style={at={(ticklabel* cs:1.02)},anchor=south,},
        scale only axis,
        ytick ={17,20},
        yticklabels={$-3\,\mathrm{dB}$,$0\,\mathrm{dB}$},
		ymajorgrids=true,
		%yticklabel=\empty,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!50},
        xticklabels={$0$, $\frac{1}{2} \mathrm{f}_\mathrm{A}$, $\mathrm{f}_\mathrm{A}$, $\frac{3}{2} \mathrm{f}_\mathrm{A}$},
		xtick={0,1,2,3},
        xmin=-0.1,
        xmax=3.2,
        ymin=-1,
        ymax=22,
        xmajorgrids=true,
        tick label style={font=\footnotesize}
    ]
	\addplot[samples=51,domain=0:0.1,smooth] {20+10*log10(0.5-0.5*cos(deg(x)*5*2*pi))}; 
	\addplot[samples=81,domain=0.10:0.90+0.055,smooth] {20+0}; 
	\addplot[samples=51,domain=0.9+0.055:1.0+0.055,smooth] {20+10*log10(0.5-0.5*cos(deg(x-0.055)*10*pi))}; 
	%\node[align=center] at (axis cs: 0.5,0.5) {Durchlass-\\ bereich};
	%\node at (axis cs: 2,0.2) {Sperrbereich};
\end{axis}
\end{tikzpicture}
\end{document}