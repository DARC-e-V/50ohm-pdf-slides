% Author: Prof. Dr. Matthias Jung, DL9MJ
% Year: 2023
\begin{circuitikz}
    \tikzset{german switch/.style={
        cute open switch, 
        bipoles/cuteswitch/thickness=0.2,
        bipoles/cuteswitch/shape=circ,
        bipoles/cuteswitch/width=0.5,
    }}
    %\tikzstyle{help lines}=[blue!50];
    %\draw[style=help lines] (-2,0) grid (6,6);
    \draw(0.0,6.25) node[] () {+};
    \draw(0.0,6.0) node[ocirc] () {}
                   to [short] ++(0,-1)
                   node[circ] (a1) {}
                   to [short] ++(0,-0.5)
                   to [open] ++(0,-0.5)
                   to [short] ++(0,-0.5)
                   node[circ] (a2) {}
                   to [short] ++(0,-0.5)
                   to [open] ++(0,-0.75)
                   node[npn, tr circle] (tr) {};

    \draw(tr.E) to [short] ++(0,-0.5)
                node [rground] () {};

    \draw[dashed](tr.B) -- ++(-0.55,0);

    \draw[draw=black] (-0.5,4.00) rectangle ++(1.0,0.5);
    \draw[draw=black] (-0.25,4.00) -- ++(0.5,0.5);
    \draw[dashed]     ( 0.5,4.25) -- ++(1.20,0.0);

    \draw[dashed](1.5,5.5) -- ++ (0,-0.5);
    \draw(1.5,5) to[german switch] ++ (0,-1.5);
    \draw[dashed](1.5,3) -- ++ (0,0.5);

    \ctikzset{diodes/scale=0.6}

    \draw(a1) to [short] ++(-1,0)
              to [stroke diode] ++(0,-1.5)
              to [short] (a2);
\end{circuitikz}